@model dynamic

@{
    ViewData["Title"] = "Home Page";
}

<div class="callout large primary">
    <div class="text-center">
        <h1>Diario Web</h1>
    </div>
</div>
<section class="grid-container">
    <div class="grid-x grid-margin-x" id="content">
        <div class="medium-9 cell">
            @foreach (var post in Model.Posts)
            {
                <article class="blog-post">
                    <h3>@post.Title </h3>
                    <small>@post.PostDate.ToString("dd/MM/yyyy hh:mm tt")</small>
                    <p class="justify-text">
                        @CustomHtmlHelper.Truncate(Html, @post.Body, post.Id, 300)
                    </p>
                    <div class="callout">
                        <ul class="menu simple">
                            <li><a href="@Url.Action("Author", "Posts", new { id = post.AuthorId })">Autor:  @post.User.Name @post.User.LastName</a></li>
                            <li><a asp-controller="Comments" asp-action="Create" asp-route-postId="@post.Id">Comentarios</a></li>
                            <li><a href="@Url.Action("Category", "Posts", new { id = post.CategoryId })">Categoría: @post.Category.Name</a></li>
                        </ul>
                    </div>
                </article>
            }
        </div>
        <aside class="medium-3 cell" data-sticky-container="">
            <div class="sticky" data-sticky="" data-anchor="content">

                <h4>Categorías</h4>
                <ul>
                    @foreach (var category in Model.Categories)
                    {
                        <li><a href="@Url.Action("Category", "Posts", new { id = category.Id })">@category.Name</a></li>
                    }
                </ul>
                <h4>Autores</h4>
                <ul>
                    @foreach (var author in Model.Users)
                    {
                        <li><a href="@Url.Action("Author", "Posts", new { id = author })">@author</a></li>

                    }
                </ul>
            </div>
        </aside>
    </div>
    <div class="pagination">
        @if (Model.PostsCount > 5)
        {
            @for (var i = 1; i <= Model.PostsCount / 5 + 1; i++)
            {
                <a href="@Url.Action("Index", new { page = i})">@i</a>
            }
        }     
    </div>
</section>
<script src="bower_components/jquery/dist/jquery.js?hash=4d87a332421d7631f5e204529a472bff"></script>
<script src="bower_components/what-input/what-input.js?hash=af041c30741a345292bed3cb0f1295ca"></script>
<script src="bower_components/foundation-sites/dist/foundation.js?hash=37375b21ccbe17669cdc30790ba5a003"></script>
<script src="js/app.js?hash=78ce4569316d2924214f821d75e9028f"></script>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/js/foundation.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/motion-ui/1.2.3/motion-ui.min.js"></script>
<script>
    $(document).foundation();
</script>